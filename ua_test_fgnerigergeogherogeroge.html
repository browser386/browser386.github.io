<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dynamic User-Agent and iFrame</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    .container {
      margin-bottom: 20px;
    }
    iframe {
      width: 100%;
      height: 500px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <h1>动态设置 User-Agent 和 iframe</h1>

  <div class="container">
    <label for="iframeUrl">设置 iFrame 的 URL：</label>
    <input type="text" id="iframeUrl" value="https://www.example.com" placeholder="请输入网址" />
    <button onclick="updateIframeUrl()">更新 iFrame URL</button>
  </div>

  <div class="container">
    <label for="userAgent">设置自定义 User-Agent：</label>
    <input type="text" id="userAgent" value="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36" placeholder="请输入 User-Agent" />
    <button onclick="updateUserAgent()">更新 User-Agent</button>
  </div>

  <div class="container">
    <h2>iFrame 页面</h2>
    <iframe id="iframe" src="https://www.example.com"></iframe>
  </div>

  <script>
    // 更新 iframe 的 URL
    function updateIframeUrl() {
      const iframeUrl = document.getElementById('iframeUrl').value;
      const iframe = document.getElementById('iframe');
      iframe.src = iframeUrl; // 更新 iframe 的 src
    }

    // 更新 User-Agent
    function updateUserAgent() {
      const userAgent = document.getElementById('userAgent').value;
      
      // 模拟设置 User-Agent（注意：JavaScript 不能直接修改浏览器的 User-Agent）
      // 这里模拟通过向 iframe 加载时修改 User-Agent 来改变请求头
      const iframe = document.getElementById('iframe');
      
      // 使用代理服务器来动态设置 User-Agent（实际操作中可以通过代理服务器进行）
      // 例如，可以将 iframe 的 src 地址替换为代理服务器的 URL，代理服务器根据 User-Agent 设置请求头。
      alert("当前浏览器无法直接修改 User-Agent，通常需要通过代理服务器来实现。如果可以配置代理服务器，可以通过代理的方式修改请求头。");
    }
  </script>
</body>
</html>
